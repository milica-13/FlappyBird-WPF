<Window x:Class="FlappyBird.GameWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="GameWindow" Height="500" Width="830"
        KeyDown="Window_KeyDown"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <!-- Animacija svjetlucanja grada -->
        <Storyboard x:Key="CityGlowStoryboard" RepeatBehavior="Forever" AutoReverse="True">
            <ColorAnimation Storyboard.TargetName="CitySkyline"
                            Storyboard.TargetProperty="(materialDesign:PackIcon.Foreground).(SolidColorBrush.Color)"
                            From="LightGray" To="LightYellow"
                            Duration="0:0:2" />
        </Storyboard>
    </Window.Resources>

    <Canvas Name="GameCanvas">
        

        <!-- Pozadina -->
        <Canvas.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1" x:Name="GameBackground">
                <GradientStop Color="#89CFF0" Offset="0" x:Name="BackgroundGradient1"/>
                <GradientStop Color="#B0E0E6" Offset="1" x:Name="BackgroundGradient2"/>
            </LinearGradientBrush>
        </Canvas.Background>

        <!-- Zvijezde (vidljive samo noću) -->
        <Ellipse x:Name="Star1" Width="5" Height="5" Fill="Gold" Canvas.Left="100" Canvas.Top="50" Visibility="Collapsed"/>
        <Ellipse x:Name="Star2" Width="4" Height="4" Fill="White" Canvas.Left="300" Canvas.Top="80" Visibility="Collapsed"/>
        <Ellipse x:Name="Star3" Width="6" Height="6" Fill="Gold" Canvas.Left="500" Canvas.Top="60" Visibility="Collapsed"/>
        <Ellipse x:Name="Star4" Width="3" Height="3" Fill="White" Canvas.Left="700" Canvas.Top="40" Visibility="Collapsed"/>


        <!-- Oblaci (samo preko dana)  -->
        <materialDesign:PackIcon x:Name="Cloud1" Kind="WeatherCloudy" Width="40" Height="40"
                         Foreground="White"
                         Canvas.Left="200" Canvas.Top="60" />

        <materialDesign:PackIcon x:Name="Cloud2" Kind="WeatherCloudy" Width="50" Height="50"
                         Foreground="WhiteSmoke"
                         Canvas.Left="400" Canvas.Top="100" />

        <materialDesign:PackIcon x:Name="Cloud3" Kind="WeatherCloudy" Width="35" Height="35"
                         Foreground="LightGray" 
                         Canvas.Left="600" Canvas.Top="80" />
       

        <!-- Sunce (vidljivo samo danju) -->
        <Ellipse x:Name="Sun" Width="40" Height="40" Fill="Yellow" Canvas.Left="720" Canvas.Top="30" />


        <!-- Silueta grada -->
        <materialDesign:PackIcon x:Name="CitySkyline"
                                 Kind="CityVariantOutline"
                                 Width="600" Height="150"
                                 Foreground="LightGray"
                                 Opacity="0.3"
                                 Canvas.Left="100"
                                 Canvas.Top="300"
                                 Panel.ZIndex="0"/>

        <!-- Ptica -->
        <Image Name="Bird" Source="pack://application:,,,/Resources/bird.png"
            Width="60" Height="60"
            Canvas.Left="100" Canvas.Top="200"/>



        <!-- Tlo -->
        <Rectangle Name="Ground" Height="50" Fill="Green"
                   Canvas.Left="0" Canvas.Top="450" Width="830"/>

        <!-- Kartica za rezultat -->
        <materialDesign:Card Width="90" Height="70" Canvas.Left="10" Canvas.Top="10"
                     Background="LavenderBlush"
                     Visibility="Visible" Panel.ZIndex="99">
            <materialDesign:Card.Effect>
                <DropShadowEffect Color="Black" BlurRadius="6" ShadowDepth="2"/>
            </materialDesign:Card.Effect>
            <StackPanel Margin="10">
                <TextBlock Text="Rezultat" FontSize="14" Foreground="Black" TextAlignment="Center"/>
                <TextBlock Name="ScoreText" FontSize="16" FontWeight="Bold" Foreground="Black" TextAlignment="Center"/>
            </StackPanel>
        </materialDesign:Card>

        <!-- Kartica za vrijeme -->
        <materialDesign:Card Width="90" Height="70" Canvas.Left="700" Canvas.Top="10"
                     Background="LavenderBlush" 
                     Visibility="Visible" Panel.ZIndex="99">
            <materialDesign:Card.Effect>
                <DropShadowEffect Color="Black" BlurRadius="6" ShadowDepth="2"/>
            </materialDesign:Card.Effect>
            <StackPanel Margin="10">
                <TextBlock Text="Vrijeme" FontSize="14" Foreground="Black" TextAlignment="Center"/>
                <TextBlock Name="TimeText" FontSize="16" FontWeight="Bold" Foreground="Black" TextAlignment="Center"/>
            </StackPanel>
        </materialDesign:Card>


        <!-- Game Over kartica -->
        <materialDesign:Card Name="GameOverCard"
                     Width="300" Height="220"
                     Canvas.Left="250" Canvas.Top="150"
                     Visibility="Collapsed"
                     Panel.ZIndex="100"
                     Padding="20"
                     Background="White">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" >
                <TextBlock Text="Igra je završena!" FontSize="22"
                   FontWeight="Bold" Margin="0 0 0 10"
                   HorizontalAlignment="Center" />
                <TextBlock Name="FinalScoreText" FontSize="18" Margin="10"
                   HorizontalAlignment="Center" />

                <!-- Dugme za novu igru -->
                <Button Content="Nova igra"
                Click="RestartGame_Click"
                Style="{StaticResource MaterialDesignFlatButton}"
                Background="{DynamicResource PrimaryHueMidBrush}"
                Foreground="LightBlue"
                FontWeight="Bold"
                Width="140"
                HorizontalAlignment="Center"/>

                <!-- Dugme za povratak -->
                <Button Content="Početni ekran"
                Click="BackToStart_Click"
                Style="{StaticResource MaterialDesignFlatButton}"
                Foreground="LightBlue"
                FontWeight="Bold"
                Width="140"
                HorizontalAlignment="Center"/>
            </StackPanel>
        </materialDesign:Card>


    </Canvas>
</Window>
