<Window x:Class="FlappyBird.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
        xmlns:md="http://materialdesigninxaml.net/winfx/xaml/shared"
        mc:Ignorable="d"    
        Title="Flappy Bird" Height="450" Width="800"
        WindowStartupLocation="CenterScreen"
        >
    <Window.Background>
        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="#FF89CFF0" Offset="0.0"/>
            <GradientStop Color="#FFB0E0E6" Offset="1.0"/>
        </LinearGradientBrush>
    </Window.Background>
    <Window.Resources>
        <!-- Animacija za plutajući oblak -->
        <Storyboard x:Key="CloudFloatStoryboard" RepeatBehavior="Forever" AutoReverse="True">
            <DoubleAnimation Storyboard.TargetName="FloatingCloud"
                             Storyboard.TargetProperty="(Canvas.Left)"
                             From="30" To="200"
                             Duration="0:0:6" />
        </Storyboard>

        <!-- Svjetlucanje grada -->
        <Storyboard x:Key="CityGlowStoryboard" RepeatBehavior="Forever" AutoReverse="True">
            <ColorAnimation Storyboard.TargetName="CitySkyline"
                            Storyboard.TargetProperty="(materialDesign:PackIcon.Foreground).(SolidColorBrush.Color)"
                            From="LightGray" To="LightYellow"
                            Duration="0:0:2" />
        </Storyboard>
    </Window.Resources>

    <Grid>
        <!-- Dekoracija: Oblak + Grad -->
        <Canvas IsHitTestVisible="False">
            <materialDesign:PackIcon x:Name="FloatingCloud"
                                     Kind="CloudOutline"
                                     Width="100" Height="60"
                                     Foreground="White" Opacity="0.3"
                                     Canvas.Top="40" Canvas.Left="30" />
        </Canvas>

        <materialDesign:PackIcon x:Name="CitySkyline"
                                 Kind="CityVariantOutline"
                                 Width="400" Height="100"
                                 Foreground="LightGray"
                                 Opacity="0.3"
                                 HorizontalAlignment="Center"
                                 VerticalAlignment="Bottom"
                                 Margin="0,0,0,20" />

        <!-- Sadržaj -->
        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
            <Image Source="pack://application:,,,/Resources/bird.png"
                   Width="60" Height="60" Margin="0,20,0,10">
                <Image.RenderTransform>
                    <TranslateTransform x:Name="BirdFloatTransform"/>
                </Image.RenderTransform>
                <Image.Triggers>
                    <EventTrigger RoutedEvent="Image.Loaded">
                        <BeginStoryboard>
                            <Storyboard RepeatBehavior="Forever" AutoReverse="True">
                                <DoubleAnimation Storyboard.TargetName="BirdFloatTransform"
                                                 Storyboard.TargetProperty="Y"
                                                 From="0" To="-15" Duration="0:0:1" />
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Image.Triggers>
            </Image>

            <TextBlock Text="🐤 Flappy Bird" FontSize="36" FontWeight="Bold"
                       FontFamily="Comic Sans MS" HorizontalAlignment="Center"
                       Foreground="{DynamicResource PrimaryHueMidBrush}" />
            <TextBlock Text="Pritisni SPACE za skok"
                       FontSize="14" Margin="0,5,0,20"
                       HorizontalAlignment="Center"
                       Foreground="{DynamicResource SecondaryHueMidBrush}" />

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!-- Lijeva strana -->
                <StackPanel Grid.Column="0" HorizontalAlignment="Left" Margin="10">
                    <Button Click="StartGame_Click"
                            Style="{StaticResource MaterialDesignRaisedButton}"
                            Height="45" Background="{DynamicResource PrimaryHueMidBrush}"
                            Foreground="White">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <iconPacks:PackIconMaterial Kind="PlayCircleOutline" Width="24" Height="24" Margin="0,0,5,0"/>
                            <TextBlock Text="Započni igru" FontSize="16"/>
                        </StackPanel>
                    </Button>

                    <Button Click="SelectBird_Click"
                            Style="{StaticResource MaterialDesignFlatButton}" Height="40">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <iconPacks:PackIconMaterial Kind="Bird" Width="22" Margin="0,0,5,0"/>
                            <TextBlock Text="Odaberi pticu" />
                        </StackPanel>
                    </Button>
                    <Button Click="ShowInstructions_Click"
                        Style="{StaticResource MaterialDesignFlatButton}" Height="40">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <iconPacks:PackIconMaterial Kind="HelpCircleOutline" Width="22" Margin="0,0,5,0"/>
                            <TextBlock Text="Uputstvo" />
                        </StackPanel>
                    </Button>
                </StackPanel>

                <!-- Desna strana -->
                <StackPanel Grid.Column="1" HorizontalAlignment="Right" Margin="10">

                    <ToggleButton x:Name="SoundToggleButton"
                                Style="{StaticResource MaterialDesignFlatButton}"
                                IsChecked="True"
                                Checked="SoundToggle_Checked"
                                Unchecked="SoundToggle_Unchecked"
                                Height="40">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <iconPacks:PackIconMaterial x:Name="SoundIcon" Kind="VolumeHigh" Width="22" Margin="0,0,5,0"/>
                            <TextBlock Text="Zvuk: On" />
                        </StackPanel>
                    </ToggleButton>


                    <Button Click="ShowTopScores_Click"
                            Style="{StaticResource MaterialDesignFlatButton}"
                            Height="40">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <iconPacks:PackIconMaterial Kind="TrophyAward" Width="22" Margin="0,0,5,0"/>
                            <TextBlock Text="Top rezultati" />
                        </StackPanel>
                    </Button>

                    <Button Click="Exit_Click"
                            Style="{StaticResource MaterialDesignFlatButton}" Height="40"
                            Foreground="Crimson">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <iconPacks:PackIconMaterial Kind="CloseCircleOutline" Width="22" Margin="0,0,5,0"/>
                            <TextBlock Text="Izlaz" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>
        </StackPanel>
    </Grid>
</Window>
